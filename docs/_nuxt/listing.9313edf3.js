import{T as j,H as D}from"./components.4f789edd.js";import{_ as q,u as z}from"./serverProduct.ba12e864.js";import{P as l}from"./product.c53dec04.js";import{f as $,j as R,o as n,c as a,F as p,b as v,a as d,t as i,i as e,n as E,k as M,_ as h,l as B,m as T,q as u,s as O,r as b,g as U,v as G,h as J,w as L,d as K,x as w,y as I,R as Q}from"./entry.4c184a8f.js";import"./fetch.47439388.js";const W=M('<div class="skeleton" data-v-ab90c3e6></div><div class="title" data-v-ab90c3e6></div><div class="brand" data-v-ab90c3e6></div><div class="desc" data-v-ab90c3e6></div><div class="price-container" data-v-ab90c3e6></div>',5),X={class:"discount"},Y={class:"title"},Z={class:"brand"},x={class:"desc"},ee={class:"price-container"},te={class:"price"},se={class:"special-price"},ne=$({__name:"ProductCard",props:{product:{},isSkeleton:{type:Boolean}},setup(g){const t=g,c=R(()=>t.product?(t.product.price*(1-t.product.discountPercentage/100)).toFixed(2):0);return(s,o)=>{const r=q;return n(),a("div",{class:E(["card",{skeleton:s.isSkeleton}])},[s.isSkeleton?(n(),a(p,{key:0},[v(r,{src:"",alt:"",error:"''",imageClass:""}),W],64)):(n(),a(p,{key:1},[d("div",X," -"+i(("product"in s?s.product:e(l)).discountPercentage)+"% ",1),v(r,{src:("product"in s?s.product:e(l)).thumbnail,alt:("product"in s?s.product:e(l)).title,error:"~/assets/imgs/product-not-found.jpg",imageClass:"img"},null,8,["src","alt"]),d("div",Y,i(("product"in s?s.product:e(l)).title),1),d("div",Z,i(("product"in s?s.product:e(l)).brand),1),d("div",x,i(("product"in s?s.product:e(l)).description),1),d("div",ee,[d("div",te,i(("product"in s?s.product:e(l)).price)+"€ ",1),d("div",se,i(e(c))+"€ ",1)])],64))],2)}}});const oe=h(ne,[["__scopeId","data-v-ab90c3e6"]]),ae={class:"paginator-container"},ie={class:"current"},re=$({__name:"Paginator",setup(g){const t=B(),c=T();return(s,o)=>(n(),a("div",ae,[e(t)>1?(n(),a("div",{key:0,class:"first",onClick:o[0]||(o[0]=r=>t.value=1)},i("<<"))):u("",!0),e(t)>=3?(n(),a("div",{key:1,class:"current-2",onClick:o[1]||(o[1]=r=>t.value=e(t)-2)},i(e(t)-2),1)):u("",!0),e(t)>=2?(n(),a("div",{key:2,class:"current-1",onClick:o[2]||(o[2]=r=>t.value--)},i(e(t)-1),1)):u("",!0),d("div",ie,i(e(t)),1),e(t)<=e(c)-1?(n(),a("div",{key:3,class:"current+1",onClick:o[3]||(o[3]=r=>t.value++)},i(e(t)+1),1)):u("",!0),e(t)<=e(c)-2?(n(),a("div",{key:4,class:"current+2",onClick:o[4]||(o[4]=r=>t.value=e(t)+2)},i(e(t)+2),1)):u("",!0),e(t)<e(c)?(n(),a("div",{key:5,class:"last",onClick:o[5]||(o[5]=r=>t.value=e(c))},i(">>"))):u("",!0)]))}});const ce=h(re,[["__scopeId","data-v-5347f10b"]]),de={key:0,class:"listing-container"},le={class:"listing-container"},ue=$({__name:"listing",async setup(g){let t,c;const s=B(),o=T(),r=O();let k=b("10"),y=b(!0),N=b([]);const{getListingProducts:V}=([t,c]=U(()=>z()),t=await t,c(),t),A=R(()=>parseInt(k.value)*s.value+""),f=async()=>{var C,m;y.value=!0;var _=await V(k.value,A.value);N.value=(C=_.value)==null?void 0:C.products,o.value=(((m=_.value)==null?void 0:m.total)??0)/parseInt(k.value)-1,y.value=!1};return f(),G(()=>{f()}),J(s,()=>{f()}),(_,C)=>{const m=j,F=D,S=oe,H=ce;return n(),a(p,null,[v(F,null,{default:L(()=>[v(m,null,{default:L(()=>[K(" Listing Products ")]),_:1})]),_:1}),e(y)?(n(),a("div",de,[(n(!0),a(p,null,w([...Array(10).keys()],P=>(n(),I(S,{product:null,isSkeleton:!0}))),256))])):(n(),a(p,{key:1},[d("div",le,[(n(!0),a(p,null,w(e(N),P=>(n(),I(S,{product:P,onClick:pe=>e(r).push({path:"/"+("RouterNames"in _?_.RouterNames:e(Q)).PRODUCT+"/"+P.id}),isSkeleton:!1},null,8,["product","onClick"]))),256))]),v(H)],64))],64)}}});const ye=h(ue,[["__scopeId","data-v-c9b59640"]]);export{ye as default};
